# 3Week_LeeJaeJun.md

## Title: [3Week] 이재준

### 미션 요구사항 분석 & 체크리스트

- [x] 네이버클라우드플랫폼을 통한 배포(도메인 없이, IP로 접속)

- [x] 호감표시/호감사유변경 후, 개별 호감표시건에 대해서, 3시간 동안은 호감취소와 호감사유변경을 할 수 없도록 작업
    - 호감표시를 한 후 개별호감표시건에 대해서, 3시간 동안은 호감취소와 호감사유변경을 할 수 없도록 작업
    - 호감사유변경을 한 후 개별호감표시건에 대해서, 3시간 동안은 호감취소와 호감사유변경을 할 수 없도록 작업
- [x] 알림기능 구현
    - 호감표시를 받았거나, 본인에 대한 호감사유가 변경된 경우에 알림페이지에서 확인이 가능하도록
    - 각각의 알림은 생성시에 readDate 가 null 이고, 사용자가 알림을 읽으면 readDate 가 현재날짜 로 세팅되어야 함.
  

### 3주차 미션 요약

- 네이버클라우드플랫폼을 통한 배포
- 호감표시/호감사유변경 후, 개별 호감표시건에 대해서, 3시간 쿨타임 적용
- 알림기능 구현

---

**[접근 방법]**

호감표시/호감사유변경 후, 개별 호감표시건에 대해서, 3시간 쿨타임 적용
1. yml파일에 쿨타임 시간 설정
2. AppConfig에서 받아올 수 있도록 함
3. 호감 리스트 화면에서 언제 다시 수정,삭제가 가능한지 표시하기 위해 LocalDateTime을 초단위에서 올림하여 "xx시xx분" 양식으로 표현하는 함수 구현
4. LikeablePerson 의 modifyUnlockDated에 다시 수정,삭제가 가능한 시간을 저장
5. 수정, 삭제시 개별 LikeablePerson에 대하여 현재 시간이 쿨타임 시간 후인지 확인(예외처리)
---

알림기능 구현
1. 타임리프 사용하여 UI 수정
2. 스프링 이벤트 사용해서 좋아요, 좋아요수정을 했을 때 알람이 생성되도록 이벤트 구현
3. 알람이 생성된 시점으로부터 알람을 확인한 시간에 따라 "방금전, 분전, 시간전을 저장할 timeLapse 필드 생성"
4. 좋아요를 통해 생성된 알람인지, 좋아요 수정을 통해 생성된 알람인지 구분하기 위한 함수를 만들어서 상황에 따른 UI 구현
5. 알람이 생성되기까지 좋아요, 좋아요수정을 처리하는 LikeablePersonService에서 수많은 예외를 처리하고 성공시 이벤트를 발생시키기 때문에 별도로 예외처리는 안했음.

**[특이사항]**




